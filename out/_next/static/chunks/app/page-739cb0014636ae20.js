(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{348:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(5881),r=a(3867),n=a(5740),l=a(6739);function i(){let{data:e,isLoading:t,error:a}=(0,l.T)(),i=(null==e?void 0:e.reservations)||[];return 0!==i.length||t||a?(0,s.jsxs)("div",{className:"mt-12 max-w-5xl mx-auto",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-center mb-6",children:"Salin varaukset"}),t&&(0,s.jsx)("div",{className:"text-center mb-6 text-slate-500",children:(0,s.jsx)("p",{children:"P\xe4ivitet\xe4\xe4n varauksia..."})}),a&&(0,s.jsx)("div",{className:"text-center mb-6 text-amber-600",children:(0,s.jsx)("p",{children:a})}),(0,s.jsxs)(n.Zp,{className:"border-l-4 border-l-[#f59e0b] shadow-md",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:"Tulevat varaukset"})}),(0,s.jsx)(n.Wu,{children:i.length>0?(0,s.jsx)("ul",{className:"space-y-2",children:i.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)(r.A,{className:"h-5 w-5 text-[#f59e0b] mr-2 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:e.reserver}),(0,s.jsx)("p",{className:"text-slate-600",children:e.time})]})]},"".concat(e.reserver,"-").concat(t)))}):(0,s.jsx)("p",{className:"text-slate-600 text-center py-4",children:"Ei tulevia varauksia t\xe4ll\xe4 hetkell\xe4."})})]})]}):null}},1497:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(5881),r=a(9328),n=a(6739);function l(){let{data:e,isLoading:t,error:a}=(0,n.T)(),l=(null==e?void 0:e.announcements)||[];return 0!==l.length||t||a?(0,s.jsx)("section",{className:"py-8 md:py-12 bg-blue-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-center mb-8",children:"Ajankohtaista"}),t&&(0,s.jsx)("div",{className:"text-center mb-6 text-slate-500",children:(0,s.jsx)("p",{children:"P\xe4ivitet\xe4\xe4n tiedotteita..."})}),a&&(0,s.jsx)("div",{className:"text-center mb-6 text-amber-600",children:(0,s.jsx)("p",{children:a})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:l.map((e,t)=>(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-l-[#379fdc]",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(r.A,{className:"h-5 w-5 text-[#379fdc] mr-3 mt-1 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:e.title}),(0,s.jsx)("p",{className:"text-slate-600",children:e.content})]})]})},"".concat(e.title,"-").concat(t)))})]})}):null}},2002:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(5881),r=a(3867),n=a(5740),l=a(6739);function i(){let{data:e,isLoading:t,error:a}=(0,l.T)(),i=(null==e?void 0:e.schedule)||[];return(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-center mb-12",children:"Harjoitusajat"}),t&&(0,s.jsx)("div",{className:"text-center mb-6 text-slate-500",children:(0,s.jsx)("p",{children:"P\xe4ivitet\xe4\xe4n aikatauluja..."})}),a&&(0,s.jsx)("div",{className:"text-center mb-6 text-amber-600",children:(0,s.jsx)("p",{children:a})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:i.map((e,t)=>(0,s.jsxs)(n.Zp,{className:"border-l-4 border-l-[#379fdc] shadow-md",children:[(0,s.jsx)(n.aR,{children:(0,s.jsx)(n.ZB,{children:e.day})}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("ul",{className:"space-y-2",children:e.classes.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start",children:[(0,s.jsx)(r.A,{className:"h-5 w-5 text-[#379fdc] mr-2 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:e.time}),(0,s.jsx)("p",{className:"text-slate-600",children:e.name})]})]},"".concat(e.name,"-").concat(t)))})})]},"".concat(e.day,"-").concat(t)))}),(0,s.jsx)("p",{className:"text-center mt-8 text-slate-600 max-w-2xl mx-auto",children:"Huom! Aikatauluihin voi tulla muutoksia lomakausien ja juhlapyhien aikana. Tarkista ajankohtaiset tiedot sosiaalisen median kanavilta."})]})}},2892:(e,t,a)=>{"use strict";a.d(t,{CopyButton:()=>i});var s=a(5881),r=a(6797),n=a(6457),l=a(3334);function i(e){let{text:t,label:a}=e,[i,c]=(0,r.useState)(!1),o=async()=>{try{await navigator.clipboard.writeText(t),c(!0),setTimeout(()=>c(!1),2e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,s.jsx)("button",{onClick:o,className:"inline-flex items-center text-xs text-[#379fdc] ml-2 px-1.5 py-0.5 rounded hover:bg-[#379fdc]/10 transition-colors",title:"Copy ".concat(a||t," to clipboard"),children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"h-3.5 w-3.5 mr-1"}),(0,s.jsx)("span",{children:"Kopioitu leikep\xf6yd\xe4lle"})]}):(0,s.jsx)(l.A,{className:"h-3.5 w-3.5"})})}},3736:(e,t,a)=>{"use strict";a.d(t,{y:()=>i,default:()=>c});var s=a(5881),r=a(6797);function n(e){return null==e||"string"==typeof e&&""===e.trim()}async function l(){try{let e=await fetch("https://google-sheets-worker.tapio123.workers.dev/",{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error("Failed to fetch schedule data: ".concat(e.status));let t=(await e.json()).values||[],a=function(e){let t=e.filter((e,t)=>t>1&&e.length>=3&&["Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai","Sunnuntai"].includes(e[0])),a=new Map;for(let e of t){var s;let t=e[0],r=e[1],n=e[2];a.has(t)||a.set(t,[]),null==(s=a.get(t))||s.push({time:n,name:r})}return Array.from(a.entries()).map(e=>{let[t,a]=e;return{day:t,classes:a}})}(t),s=function(e){let t=e.findIndex(e=>e.length>=5&&"Tuotteen Nimi"===e[0]&&"Tuotteen kuvaus"===e[1]&&"Asiakasryhm\xe4"===e[2]&&"Kategoria"===e[3]&&"Hinta"===e[4]);if(-1===t)return[];let a=[];for(let s=t+1;s<e.length;s++){let t=e[s];if(!t||t.length<5||!t[0]||!t[4])break;a.push({name:t[0],description:t[1]||"",customerGroup:t[2]||"",category:t[3]||"",price:t[4]})}return a}(t),r=function(e){let t=e.findIndex(e=>e.length>=3&&"Varaaja"===e[0]&&"P\xe4iv\xe4"===e[1]&&"Aloitus"===e[2]);if(-1===t)return[];let a=[],s=new Date;s.setHours(0,0,0,0);for(let r=t+1;r<e.length;r++){let t=e[r];if(!t||t.length<3||!t[0]||!t[1]||!t[2])break;try{let e=t[1],r=t[2],n=e.match(/(\d+)\.(\d+)\.(\d+)/);if(!n)continue;let l=parseInt(n[1],10),i=parseInt(n[2],10)-1,c=parseInt(n[3],10);if(new Date(c,i,l)>=s){let s="".concat(e," klo ").concat(r);a.push({reserver:t[0],time:s})}}catch(e){console.error("Error parsing reservation date:",e),a.push({reserver:t[0],time:"".concat(t[1]," ").concat(t[2])})}}if(0===a.length){let t=e.findIndex(e=>e.length>=2&&"Varaaja"===e[0]&&"Aika"===e[1]);if(-1!==t)for(let r=t+1;r<e.length;r++){let t=e[r];if(!t||t.length<2||!t[0]||!t[1])break;try{let e=t[1].split("\xb7");if(e.length<2)continue;let r=e[0].trim().match(/(\d+)\.\s+(\w+)/);if(!r)continue;let n=parseInt(r[1],10),l={tammikuuta:0,helmikuuta:1,maaliskuuta:2,huhtikuuta:3,toukokuuta:4,kesäkuuta:5,heinäkuuta:6,elokuuta:7,syyskuuta:8,lokakuuta:9,marraskuuta:10,joulukuuta:11}[r[2].toLowerCase()];if(void 0===l)continue;let i=new Date().getFullYear(),c=new Date(i,l,n);c<s&&6>s.getMonth()&&l>6?c.setFullYear(i-1):c>s&&s.getMonth()>6&&l<6&&c.setFullYear(i+1),c>=s&&a.push({reserver:t[0],time:t[1]})}catch(e){console.error("Error parsing old format reservation date:",e),a.push({reserver:t[0],time:t[1]})}}}return a}(t);return{schedule:a,prices:s,reservations:r,announcements:function(e){let t=e.findIndex(e=>e.length>=3&&"Tiedotteen Otsikko"===e[0]&&"Sis\xe4lt\xf6"===e[1]&&"Voimassa Kunnes"===e[2]);if(-1===t)return[];let a=[],s=new Date;s.setHours(0,0,0,0);for(let r=t+1;r<e.length;r++){let t=e[r];if(!t||t.length<3||n(t[0])||n(t[1])||n(t[2]))break;try{let e=t[0],r=t[1],n=t[2].match(/(\d+)\.(\d+)\.(\d+)/);if(!n)continue;let l=parseInt(n[1],10),i=parseInt(n[2],10)-1,c=parseInt(n[3],10),o=new Date(c,i,l);o.setHours(23,59,59,999),o>=s&&a.push({title:e,content:r,validUntil:o})}catch(e){console.error("Error parsing announcement date:",e)}}return a}(t)}}catch(e){throw console.error("Error fetching schedule data:",e),e}}let i=(0,r.createContext)({data:{schedule:[],prices:[],reservations:[],announcements:[]},isLoading:!1,error:null});function c(e){let{initialData:t,children:a}=e,[n,c]=(0,r.useState)({...t,reservations:[],announcements:[]}),[o,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{d(!0),m(null);try{let e=await l();c(e)}catch(e){console.error("Error fetching dynamic data:",e),c({schedule:t.schedule,prices:t.prices,reservations:[],announcements:[]}),m(null)}finally{d(!1)}})()},[t]),(0,s.jsx)(i.Provider,{value:{data:n,isLoading:o,error:u},children:a})}},4605:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(5881),r=a(70),n=a.n(r),l=a(5740),i=a(6739);function c(){let{data:e,isLoading:t,error:a}=(0,i.T)(),r=(null==e?void 0:e.prices)||[];return(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)("div",{className:"text-center mb-6 text-slate-500",children:(0,s.jsx)("p",{children:"P\xe4ivitet\xe4\xe4n hintatietoja..."})}),a&&(0,s.jsx)("div",{className:"text-center mb-6 text-amber-600",children:(0,s.jsx)("p",{children:a})}),0===r.length?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-slate-600 text-lg",children:"Hinnasto ei t\xe4ll\xe4 hetkell\xe4 saatavilla. Tarkista hinnat suoraan salilta."})}):[...new Set(r.map(e=>e.customerGroup))].map(e=>{let t=[...new Set(r.filter(t=>t.customerGroup===e).map(e=>e.category))];return(0,s.jsxs)("div",{className:"mb-16",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-center",children:e}),"Lapset ja Nuoret"===e&&(0,s.jsx)(n(),{href:"/junnutoiminta",className:"text-[#379fdc] hover:underline ml-4 flex items-center text-sm",children:"Lue lis\xe4\xe4 junnutoiminnasta →"})]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-8 max-w-5xl mx-auto ".concat(1===t.length?"justify-center":"justify-between"),children:t.map(t=>{let a=r.filter(a=>a.customerGroup===e&&a.category===t);return(0,s.jsxs)(l.Zp,{className:"border-t-4 border-t-[#379fdc] shadow-md hover:shadow-lg transition-shadow flex-grow md:flex-grow-0 md:w-[30%]",children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:t})}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:a.map((e,t)=>(0,s.jsxs)("div",{className:t>0?"pt-2 border-t border-slate-200":"",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-[#379fdc] mb-1",children:e.price}),(0,s.jsx)("p",{className:"text-slate-600 font-medium",children:e.name}),(0,s.jsx)("p",{className:"text-slate-600 text-sm",children:e.description})]},t))})})]},t)})})]},e)}),(0,s.jsx)("p",{className:"text-center mt-8 mb-16 text-slate-600 max-w-2xl mx-auto",children:"Hinnat ovat kausimaksuja (kev\xe4t/syksy). Kysy lis\xe4tietoja ajankohtaisista tarjouksista paikan p\xe4\xe4lt\xe4."})]})}},5740:(e,t,a)=>{"use strict";a.d(t,{Zp:()=>i,Wu:()=>d,aR:()=>c,ZB:()=>o});var s=a(5881);a(6797);var r=a(5898),n=a(6650);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,r.$)(t))}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:l("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:l("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:l("leading-none font-semibold",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:l("px-6",t),...a})}},6739:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var s=a(6797),r=a(3736);function n(){let e=(0,s.useContext)(r.y);if(!e)throw Error("useDynamicData must be used within a DynamicDataProvider");return e}},9958:(e,t,a)=>{Promise.resolve().then(a.bind(a,1497)),Promise.resolve().then(a.bind(a,3736)),Promise.resolve().then(a.bind(a,4605)),Promise.resolve().then(a.bind(a,348)),Promise.resolve().then(a.bind(a,2002)),Promise.resolve().then(a.bind(a,2892))}},e=>{var t=t=>e(e.s=t);e.O(0,[689,127,364,770,358],()=>t(9958)),_N_E=e.O()}]);